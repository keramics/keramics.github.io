<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Property list (plist) - Keramics data format specifications</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Keramics data format specifications</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="property-list-plist-format"><a class="header" href="#property-list-plist-format">Property list (plist) format</a></h1>
<p>The property list (plist) formats are used to store various kinds of data, for
example configuration data. The format is know to be used stand-alone as well
as embedded in other data formats.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Known plist formats are:</p>
<ul>
<li>ASCII plist format</li>
<li>Binary plist format</li>
<li>XML plist format</li>
</ul>
<p>TODO: What about other plist formats like JSON?</p>
<h3 id="value-types"><a class="header" href="#value-types">Value types</a></h3>
<div class="table-wrapper"><table><thead><th>Type</th><th>Description</th></thead><tr><td>array</td><td>Collection of plist values without key</td></tr>
<tr><td>boolean</td><td>Boolean value</td></tr>
<tr><td>data</td><td>Binary data</td></tr>
<tr><td>date</td><td>Date and time value</td></tr>
<tr><td>dictionary</td><td>Collection of plist values with key</td></tr>
<tr><td>integer</td><td>Signed integer value</td></tr>
<tr><td>real</td><td>Floating-point value</td></tr>
<tr><td>string</td><td>String value</td></tr>
</table></div>
<h2 id="ascii-plist-format"><a class="header" href="#ascii-plist-format">ASCII plist format</a></h2>
<p>TODO: complete section</p>
<h2 id="binary-plist-format"><a class="header" href="#binary-plist-format">Binary plist format</a></h2>
<p>A binary plist file consists of:</p>
<ul>
<li>header</li>
<li>object table</li>
<li>offset table</li>
<li>trailer</li>
</ul>
<div class="table-wrapper"><table><thead><th>Characteristics</th><th>Description</th></thead><tr><td>Byte order</td><td>big-endian</td></tr>
<tr><td>Date and time values</td><td>Number of seconds since Jan 1, 2001 00:00:00 UTC</td></tr>
<tr><td>Character strings</td><td>UTF-16 big-endian</td></tr>
</table></div>
<h3 id="binary-plist-header"><a class="header" href="#binary-plist-header">Binary plist header</a></h3>
<p>The binary plist header (CFBinaryPlistHeader) is 8 bytes in size and consists
of:</p>
<div class="table-wrapper"><table><thead><th>Offset</th><th>Size</th><th>Value</th><th>Description</th></thead><tr><td>0</td><td>6</td><td>"bplist"</td><td>Signature</td></tr>
<tr><td>6</td><td>2</td><td></td><td>Format version</td></tr>
</table></div>
<h4 id="format-versions"><a class="header" href="#format-versions">Format versions</a></h4>
<div class="table-wrapper"><table><thead><th>Version</th><th>Description</th></thead><tr><td>"00"</td><td>Supported as of Tiger</td></tr>
<tr><td>"01"</td><td>Supported as of Leopard</td></tr>
<tr><td>"0x"</td><td>Supported as of Snow Leopard, where x is any character</td></tr>
</table></div>
<h3 id="object-table"><a class="header" href="#object-table">Object table</a></h3>
<p>The object table consists of:</p>
<ul>
<li>zero or more objects</li>
</ul>
<p>Objects are of variable size and consist of:</p>
<ul>
<li>an object maker byte</li>
<li>(optional) object data</li>
</ul>
<h4 id="object-marker-byte"><a class="header" href="#object-marker-byte">Object marker byte</a></h4>
<div class="table-wrapper"><table><thead><th>Value</th><th>Identifier</th><th>Description</th></thead><tr><td>0x00</td><td>kCFBinaryPlistMarkerNull</td><td>Empty value (NULL)</td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td>0x08</td><td>kCFBinaryPlistMarkerFalse</td><td>Boolean False</td></tr>
<tr><td>0x09</td><td>kCFBinaryPlistMarkerTrue</td><td>Boolean True</td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td>0x0f</td><td>kCFBinaryPlistMarkerFill</td><td>Unknown (Fill byte?)</td></tr>
<tr><td>0x1#</td><td>kCFBinaryPlistMarkerInt</td><td>Integer, where 2^# is the number of bytes</td></tr>
<tr><td>0x2#</td><td>kCFBinaryPlistMarkerInt</td><td>Floating point, where 2^# is the number of bytes</td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td>0x33</td><td>kCFBinaryPlistMarkerDate</td><td>Date and time value, which is stored as a 64-bits floating point that contains the number of seconds since Jan 1, 2001 00:00:00 UTC</td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td>0x4#</td><td>kCFBinaryPlistMarkerData</td><td>Binary data, where # is the number of bytes. If # is 15 then the object marker byte is followed by a 32-bit integer that contains the size of the data.</td></tr>
<tr><td>0x5#</td><td>kCFBinaryPlistMarkerASCIIString</td><td>ASCII string, where # is the number of characters. If # is 15 then the object marker byte is followed by an integer object that contains the number of characters in the string. The string is stored in ASCII (with codepage?) without an end-of-string marker</td></tr>
<tr><td>0x6#</td><td>kCFBinaryPlistMarkerUnicode16String</td><td>Unicode string, where # is the number of characters. If # is 15 then the object marker byte is followed by an integer object that contains the number of characters in the string. The string is stored in UTF-16 big-endian without an end-of-string marker</td></tr>
<tr><td>0x7#</td><td></td><td>Unused</td></tr>
<tr><td>0x8#</td><td>kCFBinaryPlistMarkerUID</td><td>UID, where # + 1 is the number of bytes.</td></tr>
<tr><td>0x9#</td><td></td><td>Unused</td></tr>
<tr><td>0xa#</td><td>kCFBinaryPlistMarkerArray</td><td>Array of objects, where # is the number of elements. If # is 15 then the object marker byte is followed by an integer object that contains the number of elements in the array.</td></tr>
<tr><td>0xb#</td><td></td><td>Unused</td></tr>
<tr><td>0xc#</td><td>kCFBinaryPlistMarkerSet</td><td>Set of objects, where # is the number of elements. If # is 15 then the object marker byte is followed by an integer object that contains the number of ele,emts in the set.</td></tr>
<tr><td>0xd#</td><td>kCFBinaryPlistMarkerDict</td><td>Dictionary of key value pairs, where # is the number of key value pairs. If # is 15 then the object marker byte is followed by an integer object that contains the number of key value pairs in the dictionary.</td></tr>
<tr><td>0xe#</td><td></td><td>Unused</td></tr>
<tr><td>0xf#</td><td></td><td>Unused</td></tr>
</table></div>
<h4 id="array-object"><a class="header" href="#array-object">Array object</a></h4>
<p>The array object consists of:</p>
<ul>
<li>array object marker with number of elements</li>
<li>array of object references that identify the element objects.</li>
<li>the element object data</li>
</ul>
<p>The byte size of the object reference is defined in the trailer. An object
reference of 1 will refer to the first object in the (object) offset table.</p>
<h4 id="set-object"><a class="header" href="#set-object">Set object</a></h4>
<p>The set object consists of:</p>
<ul>
<li>set object marker with number of elements</li>
<li>array of object references that identify the element objects.</li>
<li>the element object data</li>
</ul>
<p>The byte size of the object reference is defined in the trailer. An object
reference of 1 will refer to the first object in the (object) offset table.</p>
<h4 id="dictionary-object"><a class="header" href="#dictionary-object">Dictionary object</a></h4>
<p>The dictionary object consists of:</p>
<ul>
<li>dictionary object marker with number of key and value pairs</li>
<li>array of key references that identify key objects.</li>
<li>array of object references that identify the value objects.</li>
<li>the key/value object data</li>
</ul>
<p>The byte size of the key and object reference is defined in the trailer. A key
and object reference of 1 will refer to the first object in the (object) offset
table.</p>
<h3 id="object-offset-table"><a class="header" href="#object-offset-table">(Object) offset table</a></h3>
<p>The offset table consists of an array of offsets. The trailer defines:</p>
<ul>
<li>The location of the offset table</li>
<li>The offset byte size</li>
<li>The number of offsets in the table</li>
</ul>
<p>The offset values are relative from the start of the file.</p>
<h3 id="binary-plist-trailer"><a class="header" href="#binary-plist-trailer">Binary plist trailer</a></h3>
<p>The binary plist trailer (CFBinaryPlistTrailer) is 32 bytes in size and
consists of:</p>
<div class="table-wrapper"><table><thead><th>Offset</th><th>Size</th><th>Value</th><th>Description</th></thead><tr><td>0</td><td>5 x 1</td><td>0</td><td>Unknown (0-byte values)</td></tr>
<tr><td>5</td><td>1</td><td>0</td><td>Unknown (Sort version)</td></tr>
<tr><td>6</td><td>1</td><td></td><td>Offset byte size</td></tr>
<tr><td>7</td><td>1</td><td></td><td>Key and object reference byte size</td></tr>
<tr><td>8</td><td>8</td><td></td><td>Number of objects</td></tr>
<tr><td>16</td><td>8</td><td></td><td>Root (or top-level) object</td></tr>
<tr><td>24</td><td>8</td><td></td><td>Offset table offset, where the offset is relative to the start of the file</td></tr>
</table></div>
<h2 id="xml-plist-format"><a class="header" href="#xml-plist-format">XML plist format</a></h2>
<p>A XML plist file consists of:</p>
<ul>
<li>optional XML declaration</li>
<li>optional Document Type Definition (DTD)</li>
<li>plist root XML element</li>
<li>key-value pair XML elements</li>
</ul>
<p>For example:</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist SYSTEM "file://localhost/System/Library/DTDs/PropertyList.dtd"&gt;
&lt;plist version="1.0"&gt;
...
&lt;/plist&gt;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="assorted.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="zlib.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="assorted.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="zlib.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
